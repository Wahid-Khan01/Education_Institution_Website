{% extends 'base.html' %}
{% block css %}
<style>
    .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
    }

    form {
        margin-bottom: 20px;
    }

    select {
        padding: 8px;
        font-size: 16px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }

    button {
        padding: 8px 20px;
        font-size: 16px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    button:hover {
        background-color: #0056b3;
    }

    ul {
        list-style-type: none;
        padding: 0;
    }

    li {
        margin-bottom: 5px;
    }
    .cell-spacing td {
        padding-right: 10px;
    }
</style>
{% endblock css %}
{% block body %}

<div class="container-fluid">
    <div class="row flex-nowrap">
        <div class="col-auto px-0">
            <div id="sidebar" class="collapse collapse-horizontal show border-end">
                <div id="sidebar-nav" class="list-group border-0 rounded-0 text-sm-start min-vh-100">
                    {% if user_group == 'Superuser' %}
                        
                        <a href="/college_details/add_user"
                            class="list-group-item border-end-0 d-inline-block text-truncate" data-bs-parent="#sidebar">
                            <span>Add User</span>
                        </a>
                        <a href="/college_details/edit_user"
                            class="list-group-item border-end-0 d-inline-block text-truncate" data-bs-parent="#sidebar">
                            <span>Update User</span>
                        </a>
                        <a href="/college_details/delete_user"
                            class="list-group-item border-end-0 d-inline-block text-truncate" data-bs-parent="#sidebar">
                            <span>Delete User</span>
                        </a>
                        
                    {% elif user_group == 'Staff' %}
                        <a href="/college_details/add_user"
                            class="list-group-item border-end-0 d-inline-block text-truncate" data-bs-parent="#sidebar">
                            <span>Add User</span>
                        </a>
                        <a href="/college_details/edit_user"
                            class="list-group-item border-end-0 d-inline-block text-truncate" data-bs-parent="#sidebar">
                            <span>Update User</span>
                        </a>
                        <a href="/college_details/delete_user"
                            class="list-group-item border-end-0 d-inline-block text-truncate" data-bs-parent="#sidebar">
                            <span>Delete User</span>
                        </a>
                        
                    {% elif user_group == 'Regular User'%}
                        <a href="/college_details/user_profile"
                            class="list-group-item border-end-0 d-inline-block text-truncate"
                            data-bs-parent="#sidebar">
                            <span>My Course</span>
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
        <main class="col ps-md-2 pt-2">
            <a href="#" data-bs-target="#sidebar" data-bs-toggle="collapse" class="border rounded-3 p-1 text-decoration-none">
                <i class="bi bi-list bi-lg py-2 p-1"></i> Menu
            </a>
            <div class="container">
                <h1>Dashboard</h1>
    <form method="GET">
        <label for="course">Select Course:</label>
        <select name="course" id="course">
            <option value="">-- Select Course --</option>
            {% for course_choice in COURSE_CHOICES %}
            <option value="{{ course_choice.0 }}">{{ course_choice.1 }}</option>
            {% endfor %}
        </select>
        <button type="submit">Search</button>
    </form>
    <hr>
    <h2>Search Results:</h2>
    {% if users %}
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Date of Birth</th>
                <th>City</th>
                <th>State</th>
                <th>Course</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr class="cell-spacing">
                <td>{{ user.name }}  </td>
                <td>{{ user.email }}  </td>
                <td>{{ user.phone }}  </td>
                <td>{{ user.date_of_birth }}  </td>
                <td>{{ user.city }}   </td>
                <td>{{ user.state }}  </td>
                <td>{{ user.course }}  </td>
            </tr>
            {% endfor %}

        </tbody>
    </table>

    {% else %}
    <p>No users found for the selected course.</p>
    {% endif %}
                </div>
        </main>
    </div>
</div>



{% endblock %}